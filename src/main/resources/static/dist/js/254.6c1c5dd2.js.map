{"version":3,"file":"js/254.6c1c5dd2.js","mappings":"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","sources":["webpack://shopcart/./src/views/goods.vue","webpack://shopcart/./src/api/goods.js","webpack://shopcart/./src/views/goods.vue?a29c"],"sourcesContent":["<template>\r\n    <el-breadcrumb :separator-icon=\"ArrowRight\">\r\n        <!-- 点击首页无法使侧边栏取消高亮-->\r\n        <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n        <el-breadcrumb-item>商品列表</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!-- 卡片视图 -->\r\n    <el-card class=\"box-card\">\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"12\">\r\n                <!-- 搜索输入框 -->\r\n                <el-input placeholder=\"搜素商品\" v-model=\"searchinput\" clearable @clear=\"loadTable()\">\r\n                    <template #append>\r\n                        <el-button @click=\"search()\" :icon=\"Search\" />\r\n                    </template>\r\n                </el-input>\r\n            </el-col>\r\n        </el-row>\r\n        <!-- max-height=\"500\" -->\r\n        <el-table :data=\"tableData\" stripe style=\"width: 100%\" height=\"500\">\r\n            <el-table-column fixed=\"left\" prop=\"id\" width=\"100\"></el-table-column>\r\n            <el-table-column prop=\"name\" label=\"商品名称\" width=\"140\" />\r\n            <el-table-column prop=\"shopid\" label=\"店铺\" width=\"100\" />\r\n            <el-table-column prop=\"sales\" label=\"销量\" width=\"100\" />\r\n            <el-table-column prop=\"stock\" label=\"库存\" width=\"100\" />\r\n            <el-table-column prop=\"price\" label=\"单价/元\" width=\"100\" />\r\n            <el-table-column prop=\"num\" label=\"数量\" width=\"180\">\r\n                <!--数量选择框 -->\r\n                <template #default=\"scope\">\r\n                    <el-input-number size=\"small\" v-model=\"scope.row.num\" :min=\"1\" :max=\"100\"\r\n                        @change=\"handleChange(scope.row)\" />\r\n                </template>\r\n            </el-table-column> />\r\n            <el-table-column fixed=\"right\" label=\"操作\">\r\n                <template #default=\"scope\">\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"handleAdd(scope.row)\">加入购物车</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n    </el-card>\r\n    <div>\r\n        <!-- 底部区域 -->\r\n        <el-footer>\r\n             <!-- 按下按钮左边高亮不改变？ -->\r\n            <el-button type=\"primary\" @click=\"tocart\">进入购物车</el-button>\r\n        </el-footer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { Search, ArrowRight } from '@element-plus/icons-vue'\r\nimport { reactive, ref, toRefs, computed } from 'vue'\r\nimport { useRouter } from 'vue-router';\r\n//导航访问后台api\r\nimport { list, addtocart } from '../api/goods'\r\n\r\n//导入axios\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n    name: 'goods',\r\n    setup() {\r\n        const router = useRouter()\r\n        const searchinput = ref('')\r\n\r\n        let data = reactive({\r\n            tableData: []\r\n        })\r\n\r\n        //加载表格数据\r\n        let loadTable = async () => {\r\n            let r = await list()\r\n            data.tableData = r\r\n        }\r\n        loadTable()\r\n\r\n        //执行加入购物车操作\r\n        let handleAdd = (row) => {\r\n            console.log(row);\r\n            let { id } = row\r\n            console.log(id);\r\n\r\n            addtocart(row)\r\n        }\r\n\r\n\r\n        //增减数量出发函数\r\n        const handleChange = (row) => {\r\n            console.log(`商品 ${row.name} 的数量为：${row.num}`);\r\n        }\r\n\r\n        const tocart = () => {\r\n            router.push('/cart')\r\n        }\r\n\r\n        //搜索商品\r\n        const results = computed(() => {\r\n            return data.tableData.filter(item => item.name.includes(searchinput.value));\r\n        });\r\n        const search = () => {\r\n            let items = results.value;\r\n            items.forEach((item) => {\r\n                console.log(item.name)\r\n            });\r\n            data.tableData=items\r\n        };\r\n\r\n        return {\r\n            ...toRefs(data),\r\n            Search,\r\n            searchinput,\r\n            ArrowRight,\r\n            handleAdd,\r\n            handleChange,\r\n            tocart,\r\n            results,\r\n            search,\r\n            loadTable\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped lang='scss'>\r\n.box-card {\r\n    width: 100%;\r\n\r\n    .el-table {\r\n        margin-top: 15px;\r\n    }\r\n\r\n}\r\n\r\n.el-footer {\r\n    height: 10vh;\r\n    background-color: rgb(161, 187, 182);\r\n    display: flex; //改变位置\r\n    justify-content: right; //水平居中\r\n    align-items: center; //垂直居中\r\n}\r\n</style>\r\n\r\n","//定义商品api函数\r\n\r\nimport {$get,$post} from '../utils/request.js'\r\nimport {$msg_s, $msg_e} from '../utils/msg.js'\r\n\r\n//定义登陆方法\r\nexport let list = async ()=>{\r\n    let data = await $get('/select1')\r\n\r\n    console.log(data)\r\n    return data \r\n        \r\n\r\n}\r\n\r\nexport let addtocart = async (params)=>{\r\n    let {success} = await $post('/addtocart',params)\r\n    console.log(success)\r\n    if(success){\r\n        $msg_s('加入购物车成功！')\r\n    }else{\r\n        $msg_e('失败！请重试')\r\n    }\r\n    // alert(message)\r\n    return success\r\n}","import { render } from \"./goods.vue?vue&type=template&id=6c06ee49&scoped=true\"\nimport script from \"./goods.vue?vue&type=script&lang=js\"\nexport * from \"./goods.vue?vue&type=script&lang=js\"\n\nimport \"./goods.vue?vue&type=style&index=0&id=6c06ee49&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c06ee49\"]])\n\nexport default __exports__"],"names":["_createVNode","_component_el_breadcrumb","$setup","ArrowRight","_component_el_breadcrumb_item","to","path","_component_el_card","class","_component_el_row","gutter","_component_el_col","span","_component_el_input","placeholder","searchinput","$event","clearable","onClear","_cache","loadTable","append","_withCtx","_component_el_button","onClick","search","icon","Search","_component_el_table","data","_ctx","tableData","stripe","style","height","_component_el_table_column","fixed","prop","width","label","default","scope","_component_el_input_number","size","row","num","min","max","onChange","handleChange","type","handleAdd","_createElementVNode","_component_el_footer","tocart","list","async","$get","console","log","addtocart","success","$post","params","$msg_s","$msg_e","name","setup","router","useRouter","ref","reactive","r","id","push","results","computed","filter","item","includes","value","items","forEach","toRefs","__exports__","render"],"sourceRoot":""}