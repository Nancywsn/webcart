"use strict";(self["webpackChunkshopcart"]=self["webpackChunkshopcart"]||[]).push([[254],{8254:function(e,l,a){a.r(l),a.d(l,{default:function(){return w}});var t=a(3396);function o(e,l,a,o,n,r){const u=(0,t.up)("el-breadcrumb-item"),d=(0,t.up)("el-breadcrumb"),c=(0,t.up)("el-button"),p=(0,t.up)("el-input"),s=(0,t.up)("el-col"),i=(0,t.up)("el-row"),m=(0,t.up)("el-table-column"),h=(0,t.up)("el-input-number"),w=(0,t.up)("el-table"),b=(0,t.up)("el-card"),f=(0,t.up)("el-footer");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(d,{"separator-icon":o.ArrowRight},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{to:{path:"/home"}},{default:(0,t.w5)((()=>[(0,t.Uk)("首页")])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)("商品列表")])),_:1})])),_:1},8,["separator-icon"]),(0,t.Wm)(b,{class:"box-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{gutter:20},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{span:12},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{placeholder:"搜素商品",modelValue:o.searchinput,"onUpdate:modelValue":l[1]||(l[1]=e=>o.searchinput=e),clearable:"",onClear:l[2]||(l[2]=e=>o.loadTable())},{append:(0,t.w5)((()=>[(0,t.Wm)(c,{onClick:l[0]||(l[0]=e=>o.search()),icon:o.Search},null,8,["icon"])])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,t.Wm)(w,{data:e.tableData,stripe:"",style:{width:"100%"},height:"500"},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{fixed:"left",prop:"id",width:"100"}),(0,t.Wm)(m,{prop:"name",label:"商品名称",width:"140"}),(0,t.Wm)(m,{prop:"shopid",label:"店铺",width:"100"}),(0,t.Wm)(m,{prop:"sales",label:"销量",width:"100"}),(0,t.Wm)(m,{prop:"stock",label:"库存",width:"100"}),(0,t.Wm)(m,{prop:"price",label:"单价/元",width:"100"}),(0,t.Wm)(m,{prop:"num",label:"数量",width:"180"},{default:(0,t.w5)((e=>[(0,t.Wm)(h,{size:"small",modelValue:e.row.num,"onUpdate:modelValue":l=>e.row.num=l,min:1,max:100,onChange:l=>o.handleChange(e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,t.Uk)(" /> "),(0,t.Wm)(m,{fixed:"right",label:"操作"},{default:(0,t.w5)((e=>[(0,t.Wm)(c,{type:"primary",size:"small",onClick:l=>o.handleAdd(e.row)},{default:(0,t.w5)((()=>[(0,t.Uk)("加入购物车")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1}),(0,t._)("div",null,[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,{type:"primary",onClick:o.tocart},{default:(0,t.w5)((()=>[(0,t.Uk)("进入购物车")])),_:1},8,["onClick"])])),_:1})])],64)}a(7658);var n=a(2748),r=a(4870),u=a(2483),d=a(7241),c=a(9224);let p=async()=>{let e=await(0,d.s)("/select1");return console.log(e),e},s=async e=>{let{success:l}=await(0,d.K)("/addtocart",e);return console.log(l),l?(0,c.EU)("加入购物车成功！"):(0,c._G)("失败！请重试"),l};var i={name:"goods",setup(){const e=(0,u.tv)(),l=(0,r.iH)("");let a=(0,r.qj)({tableData:[]}),o=async()=>{let e=await p();a.tableData=e};o();let d=e=>{console.log(e);let{id:l}=e;console.log(l),s(e)};const c=e=>{console.log(`商品 ${e.name} 的数量为：${e.num}`)},i=()=>{e.push("/cart")},m=(0,t.Fl)((()=>a.tableData.filter((e=>e.name.includes(l.value))))),h=()=>{let e=m.value;e.forEach((e=>{console.log(e.name)})),a.tableData=e};return{...(0,r.BK)(a),Search:n.olm,searchinput:l,ArrowRight:n.olP,handleAdd:d,handleChange:c,tocart:i,results:m,search:h,loadTable:o}}},m=a(89);const h=(0,m.Z)(i,[["render",o],["__scopeId","data-v-6c06ee49"]]);var w=h}}]);
//# sourceMappingURL=254.6c1c5dd2.js.map